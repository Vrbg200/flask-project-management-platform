# ============================================
# SALESFLOW - CONFIGURACIÓN DE ENTORNO
# ============================================
# Copiar este archivo como .env y completar los valores

# ============================================
# DATABASE
# ============================================
# URL de conexión a PostgreSQL
# Formato: postgresql://USUARIO:PASSWORD@HOST:PUERTO/NOMBRE_BD
# Desarrollo local:
DATABASE_URL="postgresql://salesflow_user:tu_password@localhost:5432/salesflow"

# Producción (Neon/Supabase):
# DATABASE_URL="postgresql://usuario:password@host.region.aws.neon.tech/nombre_bd?sslmode=require"

# ============================================
# JWT CONFIGURATION
# ============================================
# ⚠️ IMPORTANTE: Generar secrets seguros en producción
# Comando para generar: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# Secret para access tokens (mínimo 32 caracteres)
JWT_SECRET="tu_secret_super_seguro_cambiar_en_produccion_min_32_caracteres"

# Secret para refresh tokens (diferente al access token)
JWT_REFRESH_SECRET="tu_refresh_secret_super_seguro_cambiar_en_produccion_min_32"

# Tiempo de expiración del access token
# Valores: '15m', '30m', '1h'
JWT_EXPIRE="15m"

# Tiempo de expiración del refresh token
# Valores: '7d', '30d', '90d'
JWT_REFRESH_EXPIRE="7d"

# ============================================
# SERVER CONFIGURATION
# ============================================
# Puerto del servidor (5000 por defecto)
PORT=5000

# Entorno de ejecución
# Valores: 'development' | 'production' | 'test'
NODE_ENV="development"

# URL del frontend para CORS
# Desarrollo:
FRONTEND_URL="http://localhost:5173"
# Producción:
# FRONTEND_URL="https://tu-dominio.vercel.app"

# ============================================
# EMAIL CONFIGURATION (Opcional)
# ============================================
# Configuración SMTP para envío de emails

# Gmail
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER="tu_email@gmail.com"
SMTP_PASSWORD="tu_app_password"

# SendGrid (alternativa)
# SMTP_HOST="smtp.sendgrid.net"
# SMTP_PORT=587
# SMTP_USER="apikey"
# SMTP_PASSWORD="SG.tu_api_key"

# Mailgun (alternativa)
# SMTP_HOST="smtp.mailgun.org"
# SMTP_PORT=587
# SMTP_USER="postmaster@tu-dominio.mailgun.org"
# SMTP_PASSWORD="tu_password"

# Remitente por defecto
SMTP_FROM="SalesFlow <noreply@salesflow.com>"

# ============================================
# RATE LIMITING
# ============================================
# Límite de peticiones por ventana de tiempo
RATE_LIMIT_WINDOW_MS=900000  # 15 minutos
RATE_LIMIT_MAX_REQUESTS=100  # 100 requests

# ============================================
# FILE UPLOAD (si aplica)
# ============================================
# Tamaño máximo de archivos (en MB)
MAX_FILE_SIZE=10

# Tipos de archivo permitidos
ALLOWED_FILE_TYPES="image/jpeg,image/png,image/jpg,application/pdf"

# ============================================
# REDIS (Opcional - para cache)
# ============================================
# Si usas Redis para cachear datos
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_PASSWORD=""
REDIS_DB=0

# ============================================
# AWS S3 (Opcional - para almacenamiento)
# ============================================
# Si necesitas almacenar archivos en S3
AWS_ACCESS_KEY_ID="tu_access_key"
AWS_SECRET_ACCESS_KEY="tu_secret_key"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="salesflow-uploads"

# ============================================
# LOGGING
# ============================================
# Nivel de logs
# Valores: 'error' | 'warn' | 'info' | 'debug'
LOG_LEVEL="info"

# Archivo de logs (opcional)
LOG_FILE="logs/salesflow.log"

# ============================================
# FEATURES FLAGS (Opcional)
# ============================================
# Habilitar/deshabilitar funcionalidades

# Auditoría de actividades
ENABLE_AUDIT_LOG=true

# Envío de emails
ENABLE_EMAIL=false

# Sistema de notificaciones
ENABLE_NOTIFICATIONS=true

# Modo debug
DEBUG_MODE=false

# ============================================
# EXTERNAL INTEGRATIONS (Futuro)
# ============================================
# WhatsApp Business API
# WHATSAPP_API_KEY=""
# WHATSAPP_PHONE_NUMBER_ID=""

# Google Calendar
# GOOGLE_CLIENT_ID=""
# GOOGLE_CLIENT_SECRET=""

# Stripe para pagos
# STRIPE_SECRET_KEY=""
# STRIPE_PUBLISHABLE_KEY=""

# ============================================
# COMPANY SETTINGS
# ============================================
# Nombre de la empresa
COMPANY_NAME="SalesFlow Corporation"

# NIT o identificación fiscal
COMPANY_TAX_ID="12345678-9"

# Moneda por defecto
DEFAULT_CURRENCY="GTQ"

# Símbolo de moneda
CURRENCY_SYMBOL="Q"

# Porcentaje de IVA/Impuesto
TAX_RATE=12

# Porcentaje de comisión por defecto para vendedores
DEFAULT_COMMISSION_RATE=10

# ============================================
# NOTAS IMPORTANTES
# ============================================
# 1. NO SUBIR ESTE ARCHIVO A GIT CON VALORES REALES
# 2. Usar .env.example como plantilla
# 3. El archivo .env debe estar en .gitignore
# 4. En producción, usar variables de entorno del hosting
# 5. Rotar secrets periódicamente
# 6. Usar secrets diferentes para cada entorno
# 7. Mantener respaldos seguros de configuraciones

# ============================================
# VALIDACIÓN
# ============================================
# Verificar configuración con:
# node -e "require('dotenv').config(); console.log(process.env)"
